flink的状态是保存在内存中的，如何防止内存不爆，分布式，每个slot有独立的内存  
并行度调整后，flink会把原先状态数据打乱重新均匀分配  
容错性，会持久化状态  

flink的状态分类：  
托管状态，由flink管理的，直接调flink接口  
原始状态，自定义的，自己管理  

状态内容：  
值状态ValueState  
列表状态ListState  
映射状态MapState  
聚合状态AggregateState  

状态只针对当前的并行子任务里面有效  
p97-p101 很啰嗦，没有实例，有点水，根据讲义讲的  
五种不同状态编程StateTest，较好  

## DataStream算子为啥不能直接聚合，而要先keyBy呢

本质上是状态是按key保存的