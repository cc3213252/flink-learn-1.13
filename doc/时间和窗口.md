三个时间：事件时间，进入flink到时间，处理时间  

## watermark

数据密集情况，应周期性产生watermark  
通过设置延迟，保证正确处理乱序数据  
是基于数据的时间戳生成的  

### 延时时间怎么设

先从历史数据中看规律，一般延迟是网络等因素，一般是几百毫秒  

### 范型方法用法

forMonotonousTimestamps watermark生成器  
withTimestampAssigner从数据里面提取时间戳  
```java
static <T> WatermarkStrategy<T> forMonotonousTimestamps() {
    return (ctx) -> {
        return new AscendingTimestampsWatermarks();
    };
}
```
forMonotonousTimestamps是一个范型方法，按如下方法使用：  
```java
WatermarkStrategy.<Event>forMonotonousTimestamps()
```